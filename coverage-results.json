{"level":"INFO","time":"2025-08-26T08:03:03.846Z","pid":39182,"hostname":"MacBookPro.home","at":"fileSearchTool.execute.start","query":"hello","max_results":3,"vector_store_id":"vs_123","enable_rewriting":false,"rewrite_strategy":"expansion","enable_reranking":false,"reranking_method":"semantic","timestamp":"2025-08-26T08:03:03.846Z","msg":"File search tool execution started"}
{"level":"INFO","time":"2025-08-26T08:03:03.846Z","pid":39182,"hostname":"MacBookPro.home","at":"fileSearchTool.execute.vectorStore.provided","storeId":"vs_123","timestamp":"2025-08-26T08:03:03.846Z","msg":"Using provided vector store ID"}
{"level":"INFO","time":"2025-08-26T08:03:03.846Z","pid":39182,"hostname":"MacBookPro.home","at":"fileSearchTool.execute.retrieval.config","retrievalConfig":{"queryRewriting":false,"rewriteStrategy":"expansion","reranking":false,"rerankingMethod":"semantic","topK":3},"timestamp":"2025-08-26T08:03:03.846Z","msg":"Configured retrieval pipeline"}
{"level":"INFO","time":"2025-08-26T08:03:03.846Z","pid":39182,"hostname":"MacBookPro.home","at":"fileSearchTool.execute.retrieval.calling","query":"hello","storeId":"vs_123","timestamp":"2025-08-26T08:03:03.846Z","msg":"Calling enhanced retrieval"}
{"level":"INFO","time":"2025-08-26T08:03:05.449Z","pid":39182,"hostname":"MacBookPro.home","at":"fileSearchTool.execute.retrieval.complete","resultsCount":0,"hasResults":false,"timestamp":"2025-08-26T08:03:05.449Z","msg":"Enhanced retrieval completed"}
{"level":"INFO","time":"2025-08-26T08:03:05.449Z","pid":39182,"hostname":"MacBookPro.home","at":"fileSearchTool.execute.formatting.start","rawResultsCount":0,"timestamp":"2025-08-26T08:03:05.449Z","msg":"Formatting search results"}
{"level":"INFO","time":"2025-08-26T08:03:05.449Z","pid":39182,"hostname":"MacBookPro.home","at":"fileSearchTool.execute.formatting.complete","formattedResultsCount":0,"topResultScore":null,"timestamp":"2025-08-26T08:03:05.449Z","msg":"Formatted search results"}
{"level":"INFO","time":"2025-08-26T08:03:05.449Z","pid":39182,"hostname":"MacBookPro.home","at":"fileSearchTool.execute.success","response":{"success":true,"query":"hello","enhanced_query":"hello","total_results":0,"summary":"No relevant documents found. Try rephrasing your query or uploading more documents.","sources":[],"thinking":"Searching for: \"hello\"\nFound 0 relevant documents\nNo matching documents found","search_config":{"vector_store_id":"vs_123","query_rewriting":false,"rewrite_strategy":"expansion","reranking":false,"reranking_method":"semantic"}},"timestamp":"2025-08-26T08:03:05.449Z","msg":"File search completed successfully"}
{"level":"INFO","time":"2025-08-26T08:03:05.450Z","pid":39182,"hostname":"MacBookPro.home","at":"fileSearchTool.execute.start","query":"hello","max_results":5,"vector_store_id":"vs_123","enable_rewriting":false,"rewrite_strategy":"expansion","enable_reranking":false,"reranking_method":"semantic","timestamp":"2025-08-26T08:03:05.450Z","msg":"File search tool execution started"}
{"level":"INFO","time":"2025-08-26T08:03:05.450Z","pid":39182,"hostname":"MacBookPro.home","at":"fileSearchTool.execute.vectorStore.provided","storeId":"vs_123","timestamp":"2025-08-26T08:03:05.450Z","msg":"Using provided vector store ID"}
{"level":"INFO","time":"2025-08-26T08:03:05.450Z","pid":39182,"hostname":"MacBookPro.home","at":"fileSearchTool.execute.retrieval.config","retrievalConfig":{"queryRewriting":false,"rewriteStrategy":"expansion","reranking":false,"rerankingMethod":"semantic","topK":5},"timestamp":"2025-08-26T08:03:05.450Z","msg":"Configured retrieval pipeline"}
{"level":"INFO","time":"2025-08-26T08:03:05.450Z","pid":39182,"hostname":"MacBookPro.home","at":"fileSearchTool.execute.retrieval.calling","query":"hello","storeId":"vs_123","timestamp":"2025-08-26T08:03:05.450Z","msg":"Calling enhanced retrieval"}
{"level":"ERROR","time":"2025-08-26T08:03:05.452Z","pid":39182,"hostname":"MacBookPro.home","at":"fileSearchTool.execute.error","query":"hello","error":"Bad request","errorDetails":{"name":"Error","stack":"Error: Bad request\n    at /Users/neo/Developer/experiments/HGG/robo-chat/tests/unit/file-search.retry.test.ts:57:40\n    at file:///Users/neo/Developer/experiments/HGG/robo-chat/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///Users/neo/Developer/experiments/HGG/robo-chat/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///Users/neo/Developer/experiments/HGG/robo-chat/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/neo/Developer/experiments/HGG/robo-chat/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///Users/neo/Developer/experiments/HGG/robo-chat/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///Users/neo/Developer/experiments/HGG/robo-chat/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///Users/neo/Developer/experiments/HGG/robo-chat/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runFiles (file:///Users/neo/Developer/experiments/HGG/robo-chat/node_modules/@vitest/runner/dist/chunk-hooks.js:1787:3)"},"timestamp":"2025-08-26T08:03:05.452Z","msg":"File search failed"}
{"level":"INFO","time":"2025-08-26T08:03:08.196Z","pid":39182,"hostname":"MacBookPro.home","at":"api.chat.POST","model":"gpt-5-mini","enableSearch":false,"reasoningEffort":"medium","temperature":1,"msg":"chat request"}
{"level":"INFO","time":"2025-08-26T08:03:08.197Z","pid":39182,"hostname":"MacBookPro.home","at":"[REDACTED]","model":"gpt-5-mini","isAuthenticated":false,"hasUserId":true,"headers":{"content-type":"text/plain;charset=UTF-8","Content-Type":"text/plain;charset=UTF-8"},"msg":"Resolving credentials"}
{"level":"INFO","time":"2025-08-26T08:03:08.197Z","pid":39182,"hostname":"MacBookPro.home","at":"[REDACTED]","source":"environment","hasKey":"[REDACTED]","msg":"No user or guest credentials found, falling back to environment"}
{"level":"ERROR","time":"2025-08-26T08:03:08.201Z","pid":39182,"hostname":"MacBookPro.home","error":{},"at":"[REDACTED]","msg":"Chat API error"}
{"level":"INFO","time":"2025-08-26T08:03:08.201Z","pid":39182,"hostname":"MacBookPro.home","at":"api.chat.POST","model":"gpt-5-mini","enableSearch":false,"reasoningEffort":"medium","temperature":1,"msg":"chat request"}
{"level":"INFO","time":"2025-08-26T08:03:08.202Z","pid":39182,"hostname":"MacBookPro.home","at":"[REDACTED]","model":"gpt-5-mini","isAuthenticated":false,"hasUserId":true,"headers":{"content-type":"text/plain;charset=UTF-8","Content-Type":"text/plain;charset=UTF-8"},"msg":"Resolving credentials"}
{"level":"INFO","time":"2025-08-26T08:03:08.202Z","pid":39182,"hostname":"MacBookPro.home","at":"[REDACTED]","source":"environment","hasKey":"[REDACTED]","msg":"No user or guest credentials found, falling back to environment"}
{"level":"INFO","time":"2025-08-26T08:03:08.202Z","pid":39182,"hostname":"MacBookPro.home","at":"api.chat.POST","model":"gpt-5-mini","enableSearch":false,"reasoningEffort":"medium","temperature":1,"msg":"chat request"}
{"level":"INFO","time":"2025-08-26T08:03:08.202Z","pid":39182,"hostname":"MacBookPro.home","at":"[REDACTED]","model":"gpt-5-mini","isAuthenticated":false,"hasUserId":true,"headers":{"content-type":"text/plain;charset=UTF-8","Content-Type":"text/plain;charset=UTF-8"},"msg":"Resolving credentials"}
{"level":"INFO","time":"2025-08-26T08:03:08.203Z","pid":39182,"hostname":"MacBookPro.home","at":"[REDACTED]","source":"environment","hasKey":"[REDACTED]","msg":"No user or guest credentials found, falling back to environment"}
{"level":"INFO","time":"2025-08-26T08:03:08.203Z","pid":39182,"hostname":"MacBookPro.home","at":"api.chat.POST","model":"gpt-5-mini","enableSearch":false,"reasoningEffort":"medium","temperature":1,"msg":"chat request"}
{"level":"INFO","time":"2025-08-26T08:03:08.203Z","pid":39182,"hostname":"MacBookPro.home","at":"[REDACTED]","model":"gpt-5-mini","isAuthenticated":false,"hasUserId":true,"headers":{"content-type":"text/plain;charset=UTF-8","Content-Type":"text/plain;charset=UTF-8"},"msg":"Resolving credentials"}
{"level":"INFO","time":"2025-08-26T08:03:08.203Z","pid":39182,"hostname":"MacBookPro.home","at":"[REDACTED]","source":"environment","hasKey":"[REDACTED]","msg":"No user or guest credentials found, falling back to environment"}
{"level":"INFO","time":"2025-08-26T08:03:08.204Z","pid":39182,"hostname":"MacBookPro.home","at":"api.chat.POST","model":"gpt-5-mini","enableSearch":true,"reasoningEffort":"medium","temperature":1,"msg":"chat request"}
{"level":"INFO","time":"2025-08-26T08:03:08.204Z","pid":39182,"hostname":"MacBookPro.home","at":"[REDACTED]","model":"gpt-5-mini","isAuthenticated":false,"hasUserId":true,"headers":{"content-type":"text/plain;charset=UTF-8","Content-Type":"text/plain;charset=UTF-8"},"msg":"Resolving credentials"}
{"level":"INFO","time":"2025-08-26T08:03:08.204Z","pid":39182,"hostname":"MacBookPro.home","at":"[REDACTED]","source":"environment","hasKey":"[REDACTED]","msg":"No user or guest credentials found, falling back to environment"}
{"level":"INFO","time":"2025-08-26T08:03:08.204Z","pid":39182,"hostname":"MacBookPro.home","at":"api.chat.configureTools","enableSearch":true,"isGPT5Model":true,"toolsEnabled":true,"toolNames":["fileSearch"],"msg":"Configuring file search tool"}
{"level":"INFO","time":"2025-08-26T08:03:08.204Z","pid":39182,"hostname":"MacBookPro.home","at":"api.chat.POST","model":"gpt-4-turbo","enableSearch":true,"reasoningEffort":"medium","msg":"chat request"}
{"level":"INFO","time":"2025-08-26T08:03:08.204Z","pid":39182,"hostname":"MacBookPro.home","at":"[REDACTED]","model":"gpt-4-turbo","isAuthenticated":false,"hasUserId":true,"headers":{"content-type":"text/plain;charset=UTF-8","Content-Type":"text/plain;charset=UTF-8"},"msg":"Resolving credentials"}
{"level":"INFO","time":"2025-08-26T08:03:08.205Z","pid":39182,"hostname":"MacBookPro.home","at":"[REDACTED]","source":"environment","hasKey":"[REDACTED]","msg":"No user or guest credentials found, falling back to environment"}
{"level":"INFO","time":"2025-08-26T08:03:08.205Z","pid":39182,"hostname":"MacBookPro.home","at":"api.chat.POST","model":"gpt-5-mini","enableSearch":false,"reasoningEffort":"medium","temperature":1,"msg":"chat request"}
{"level":"INFO","time":"2025-08-26T08:03:08.205Z","pid":39182,"hostname":"MacBookPro.home","at":"[REDACTED]","model":"gpt-5-mini","isAuthenticated":false,"hasUserId":true,"headers":{"content-type":"text/plain;charset=UTF-8","Content-Type":"text/plain;charset=UTF-8"},"msg":"Resolving credentials"}
{"level":"INFO","time":"2025-08-26T08:03:08.205Z","pid":39182,"hostname":"MacBookPro.home","at":"[REDACTED]","source":"environment","hasKey":"[REDACTED]","msg":"No user or guest credentials found, falling back to environment"}
{"level":"ERROR","time":"2025-08-26T08:03:08.206Z","pid":39182,"hostname":"MacBookPro.home","error":{},"at":"[REDACTED]","msg":"Chat API error"}
{"level":"WARN","time":"2025-08-26T08:03:08.858Z","pid":39182,"hostname":"MacBookPro.home","chatId":"non-existent-chat-id","msg":"Chat does not exist and cannot be created. Skipping message save."}
